{"version":3,"sources":["component/list .js","view/history.js"],"names":["Img","styled","img","Component","observer","HistoryStore","useStore","useEffect","console","log","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","src","attributes","url","filename","target","href","id","tip","History"],"mappings":"6LAOMA,EAAMC,IAAOC,IAAV,kHAwDMC,EAjDCC,aAAS,WAAK,IACnBC,EAAcC,cAAdD,aAYP,OAREE,qBAAU,WAER,OADAC,QAAQC,IAAI,4BACL,WACLD,QAAQC,IAAI,gBACZJ,EAAaK,WAEd,IAGD,8BACI,cAAC,IAAD,CACEC,aAAa,EACbC,UAAW,EACXC,SAhBO,WACbR,EAAaS,QAgBPC,SAAUV,EAAaW,WAAWX,EAAaU,QAC/CE,WAAW,EALb,SAOJ,cAAC,IAAD,CACEC,WAAYb,EAAac,KACzBC,WACE,SAAAC,GAAI,OAAI,eAAC,IAAKC,KAAN,WACN,8BACE,cAACtB,EAAD,CAAKuB,IAAKF,EAAKG,WAAWC,IAAID,WAAWC,QAE3C,8BACE,6BAAKJ,EAAKG,WAAWE,aAEvB,8BACE,mBAAIC,OAAO,SAASC,KAAMP,EAAKG,WAAWC,IAAID,WAAWC,IAAzD,SAA+DJ,EAAKG,WAAWC,IAAID,WAAWC,UAR1EJ,EAAKQ,KAHjC,SAgBIxB,EAAaW,WAAaX,EAAaU,SACvC,8BACE,cAAC,IAAD,CAAMe,IAAI,kCC3CTC,UATf,WACI,OACI,qCACA,yCACA,cAAC,EAAD","file":"static/js/8.39d74be0.chunk.js","sourcesContent":["import { List,Spin } from \"antd\";\r\nimport React, { useEffect }  from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { useStore } from \"../store\";\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport styled from 'styled-components';\r\n\r\nconst Img = styled.img`\r\n  width: 100px;\r\n  height: 120px;\r\n  object-fit: contain;\r\n  border: 1px solid #eee;\r\n`;\r\n\r\nconst Component=observer(()=>{\r\n    const {HistoryStore}=useStore();\r\n    const loadMore = () => {\r\n        HistoryStore.find();\r\n      };\r\n      useEffect(() => {\r\n        console.log('进入组件')\r\n        return () => {\r\n          console.log('卸载')\r\n          HistoryStore.reset();\r\n        }\r\n      }, []);\r\n\r\n    return(\r\n        <div> \r\n            <InfiniteScroll\r\n              initialLoad={true}\r\n              pageStart={0}\r\n              loadMore={loadMore}\r\n              hasMore={!HistoryStore.isLoading&&HistoryStore.hasMore}\r\n              useWindow={true}\r\n            >\r\n        <List \r\n          dataSource={HistoryStore.list}\r\n          renderItem={\r\n            item => <List.Item key={item.id}>\r\n              <div>\r\n                <Img src={item.attributes.url.attributes.url}  />\r\n              </div>\r\n              <div>\r\n                <h5>{item.attributes.filename}</h5>\r\n              </div>\r\n              <div>\r\n                <a  target=\"_blank\" href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url}</a>\r\n              </div>\r\n            </List.Item>\r\n          }\r\n        >\r\n          { HistoryStore.isLoading && HistoryStore.hasMore && (\r\n            <div>\r\n              <Spin tip=\"加载中\"/>\r\n            </div>\r\n          )} \r\n        </List>\r\n            </InfiniteScroll>   \r\n        </div>\r\n    );\r\n})\r\n\r\nexport default Component;","import React from 'react';\r\nimport List from '../component/list '\r\nfunction History(){\r\n    return(\r\n        <>\r\n        <h1>History</h1>\r\n        <List/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default History;"],"sourceRoot":""}